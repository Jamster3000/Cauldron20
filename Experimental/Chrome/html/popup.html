<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Characters</title>
    <link rel="stylesheet" href="/css/popup.css" />
    <style>
        /* Prevent width changes from scrollbar */
        html {
            overflow-y: scroll;
            scrollbar-width: thin; /* For Firefox */
        }

        /* For Chrome, Safari, and Opera */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        /* Set a fixed width for the popup */
        body {
            width: 380px;
            overflow-x: hidden;
        }

        /* Rest of your styles */
        .collapsible {
            margin-top: 20px;
            padding: 10px;
        }

            .active, .collapsible:hover {
                background-color: #ccc;
            }

            .collapsible:after {
                content: '\002B';
                font-weight: bold;
                float: right;
                margin-left: 5px;
            }

        .active:after {
            content: "\2212";
        }

        .report-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            background-color: #f9f9f9;
            padding: 0 15px;
            border-radius: 0 0 4px 4px;
        }

        .report-form {
            padding: 15px 0;
        }

        .form-group {
            margin-bottom: 10px;
        }

            .form-group label {
                display: block;
                margin-bottom: 5px;
            }

            .form-group textarea {
                width: 100%;
                padding: 8px;
                border: 1px solid #ddd;
                border-radius: 4px;
                box-sizing: border-box;
            }

            .form-group input[type="text"] {
                width: 100%;
                padding: 8px;
                border: 1px solid #ddd;
                border-radius: 4px;
                box-sizing: border-box;
            }

        .form-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
    </style>
</head>

<body>
    <h1>Your Characters</h1>

    <div id="character-selection">
        <label for="characterSelect">Select Character:</label>
        <div class="select-container">
            <select id="characterSelect">
                <option value="">-- Select Character --</option>
            </select>
            <button id="deleteCharacterButton" class="danger-button" title="Delete selected character">
                <i class="fa fa-trash"></i>
            </button>
        </div>
    </div>

    <div id="character-input">
        <label for="characterIdInput">Enter Character ID:</label>
        <input type="text" id="characterIdInput" placeholder="Character ID">
        <button id="fetchButton">Fetch Character Info</button>
    </div>

    <div id="characterInfo"></div>
    <div id="errorMessage"></div>

    <div class="button-container">
        <button id="editButton" class="action-button">
            <i class="fa fa-edit"></i> Edit
        </button>
        <button id="exportButton" class="action-button" title="Export character data to a JSON file in your downloads folder">
            <i class="fa fa-download"></i> Export
        </button>
        <button id="importButton" class="action-button" title="Import character data from a JSON file">
            <i class="fa fa-upload"></i> Import
            <input type="file" id="importFile" accept=".json">
        </button>
    </div>

    <button class="collapsible">Report Incorrect Character Data</button>
    <div class="report-content">
        <form class="report-form" action="https://formsubmit.co/jrbaines.04@gmail.com" method="POST">
            <input type="text" name="_honey" style="display:none">
            <input type="hidden" name="_captcha" value="false">
            <input type="hidden" name="_subject" value="Cauldron20 Character Data Report">
            <div class="form-group">
                <label for="reportDescription">Describe the incorrect data:</label>
                <textarea id="reportDescription" name="reportDescription" rows="4" placeholder="Please describe what data is incorrect (e.g., 'My strength modifier shows +3 but should be +4')" required></textarea>
            </div>
            <div class="form-group">
                <label for="characterIdReport">Character ID:</label>
                <input type="text" id="characterIdReport" name="characterIdReport" placeholder="Your D&D Beyond character ID">
            </div>
            <div class="form-buttons">
                <button type="submit" class="action-button">Submit Report</button>
            </div>
        </form>
    </div>

    <!-- From Uiverse.io by mobinkakei -->
    <div id="spinner-container">
        <div class="loader" id="spinner"></div>
    </div>

    <script src="../js/popup.js"></script>
</body>
</html>
